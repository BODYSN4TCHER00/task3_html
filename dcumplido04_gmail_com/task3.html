<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LCM Service</title>
</head>
<body>

<script>
/* eslint-disable no-undef */

// LCM Calculator - Pure JavaScript implementation
const lcmLogic = {
  // GCD using Euclidean algorithm with BigInt for large numbers
  gcd: (a, b) => {
    a = a < 0n ? -a : a;
    b = b < 0n ? -b : b;
    while (b !== 0n) {
      [a, b] = [b, a % b];
    }
    return a;
  },
  
  // LCM calculation with BigInt to prevent floating point results
  lcm: (x, y) => {
    // Special case: LCM(0,0) = 0 (task requirement)
    if (x === 0n && y === 0n) return 0n;
    // If either is 0, LCM is 0
    if (x === 0n || y === 0n) return 0n;
    
    // Use (x/gcd) * y to avoid large intermediate values and floating point issues
    const gcdValue = lcmLogic.gcd(x, y);
    return (x / gcdValue) * y;
  },
  
  // Strict validation for natural numbers (0, 1, 2, 3, ...)
  isNaturalNumber: (str) => {
    // Handle null, undefined, empty string, or braces from bot
    if (str === null || str === undefined || str === '' || str === '{}') return false;
    
    const trimmed = String(str).trim();
    // Empty after trimming or just braces
    if (trimmed === '' || trimmed === '{}') return false;
    
    // Must contain ONLY digits - reject anything with letters, decimals, signs, etc.
    // This handles cases like "10asdad" -> NaN
    if (!/^\d+$/.test(trimmed)) return false;
    
    try {
      const num = BigInt(trimmed);
      // Natural numbers include 0 and all positive integers
      return num >= 0n;
    } catch {
      return false;
    }
  },
  
  // Main calculation with comprehensive validation
  calculate: (x, y) => {
    // Strict validation - reject anything that's not a pure natural number
    if (!lcmLogic.isNaturalNumber(x) || !lcmLogic.isNaturalNumber(y)) {
      return 'NaN';
    }
    
    try {
      const numX = BigInt(String(x).trim());
      const numY = BigInt(String(y).trim());
      const result = lcmLogic.lcm(numX, numY);
      
      // Return as string containing only digits (task requirement)
      return result.toString();
    } catch {
      return 'NaN';
    }
  }
};

// Main execution - runs immediately when page loads
(function() {
  // Check if we're on the correct path (email-based URL ending)
  const path = window.location.pathname;
  if (!path.includes('dcumplido04_gmail_com')) {
    document.body.innerHTML = 'NaN';
    return;
  }

  const urlParams = new URLSearchParams(window.location.search);
  
  let result;
  
  // Check if both x and y parameters exist
  if (urlParams.has('x') && urlParams.has('y')) {
    const x = urlParams.get('x');
    const y = urlParams.get('y');
    result = lcmLogic.calculate(x, y);
  } else {
    // No parameters or missing parameters - return NaN
    result = 'NaN';
  }
  
  // CRITICAL: Replace entire document with ONLY plain text
  // This ensures bot sees pure text response, no HTML markup
  document.open();
  document.write(result);
  document.close();
})();

</script>

</body>
</html>